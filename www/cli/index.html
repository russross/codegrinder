<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CodeGrinder</title>
  <style>
    body {
      font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif;
      color:#333;
      font-size:14px;
    }

    code, tt, pre {
      font-family: monospace;
    }

    tt {
      background-color: #f6f6f6;
      color:#000;
      border: 1px solid #aaa;
      border-radius:5px;
      padding: .1em;
    }

    pre {
      color:#000;
      font-size:1em;
      line-height: 1.25em;
      padding: .5em;
      border: 1px solid #aaa;
      background: #f6f6f6;
      border-radius:5px;

      white-space: pre-wrap;       /* css-3 */
      white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
      white-space: -pre-wrap;      /* Opera 4-6 */
      white-space: -o-pre-wrap;    /* Opera 7 */
      word-wrap: break-word;       /* Internet Explorer 5.5+ */
    }

    h3 {
      color:#fff;
      background-color:#333;
      padding:10px 15px;
      border-radius: 10px;
      cursor: pointer;
      overflow:auto;
    }

    h3.open {
      background-color:#ba1c21;
    }

    h3:after {
      content:'+';
      float:right;
    }

    h3.open:after {
      content:'-';
    }

    h3:hover {
      background-color: #ba1c21;
    }

    a {
      color:#0000ff;
    }

    a:hover {
      color:#ba1c21;
    }
  </style>
</head>
<body>

<script>
    var QueryString = (function () {
        // this function is anonymous and is executed immediately
        // the return value is assigned to QueryString
        var query_string = {};
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');
            var key = pair[0];
            var value = decodeURIComponent(pair[1]);
            var old_value = query_string[key];

            // first entry with this name, store value as a string
            if (typeof old_value === 'undefined') {
                query_string[key] = value;

            // second entry with this name, convert into a list
            } else if (typeof old_value === 'string') {
                query_string[key] = [ old_value, value ];

            // third or later entry with this name, append to list
            } else {
                old_value.push(value);
            }
        } 
        return query_string;
    })();
</script>

<h1>CodeGrinder</h1>
<p>This assignment is now ready to use. If you already know how to use the <tt>grind</tt> command-line tool, or you already have Thonny set up with the CodeGrinder plugin, you can go directly to those tools, download the assignment, and begin working.</p>
<p>If you need more help, click on one of the options below. Note: You should install the Thonny Plugin (for CS 1400 and CS 1410) OR the command-line tool, but you probably do NOT need both.</p>

<h2>For students using Thonny (CS 1400 and CS 1410)</h2>
<p>Thonny is an Integrated Development Environment (IDE) designed for students learning to program in Python. You must install it on your computer and set it up with the CodeGrinder plugin in order to complete this assignment. <a href="https://www.youtube.com/watch?v=DGCeENx7Fsg" target="_blank">This 8-minute screencast will show you the basics.</a></p>

<h3>Installing Thonny</h3>
<div>
  <p>To install Thonny on a machine that does not already have it, <a href="https://thonny.org/" target="_blank">click here to go to the Thonny website</a> and follow the instructions near the top of the page. You will need Thonny version 3.0 or higher.</p>
</div>

<h3>Installing the CodeGrinder plugin in Thonny</h3>
<div>
  <p>To install the CodeGrinder plugin, launch Thonny and follow these steps:</p>
  <ol>
    <li>Click on the “Tools” menu</li>
    <li>Select the “Manage plug-ins…” option in the menu</li>
    <li>Type “thonny_codegrinder_plugin” into the search box and click “Find package from PyPI”</li>
    <li>Once it finds the plugin, click the “Install” button</li>
    <li>Close the “Thonny plug-ins” dialog box, quit Thonny, and then reload Thonny</li>
  </ol>
  <p>If it was successful, there will now be a “CodeGrinder” menu in the menu bar.</p>
</div>

<h3>Logging in</h3>
<div>
  <p>You should normally only need to log in once a semester. To login follow these steps:</p>
  <ol>
    <li>Open Thonny</li>
    <li>Click on the “CodeGrinder” menu (if you do not see it, you may need to install the CodeGrinder plugin)</li>
    <li>Select the “Login…” option in the menu (if you cannot select it, you may already be logged in. In that case, select “Logout” and then try again)</li>
    <li>Copy the following and paste it into the box: <pre>grind login <script>document.write(document.location.hostname + ' ' + QueryString.session)</script></pre></li>
    <li>If it does not accept your login credentials, you may need to refresh this page. The login token is only valid for 5 minutes, and can only be used once.</li>
  </ol>
</div>

<h3>Starting a new assignment</h3>
<div>
    <p>You have to click on each assignment in Canvas one time to activate it in CodeGrinder. After that, you can select the “Download new assignments” option from the “CodeGrinder” menu in Thonny to download the assignment to your computer. Make note of the directory where the assignment is downloaded (it assumes you are starting from your home directory) and then open the files directly in Thonny. Your instructor will demonstrate this in class.</p>
    <p>If you have already downloaded an assignment, “Download new assignments” will not do anything.</p>
</div>

<h2>For students using the command-line tool</h2>
<p>You must install the <tt>grind</tt> command-line tool to interact with CodeGrinder and complete this assignment.</p>

<h3>Installing <tt>grind</tt></h3>
<div>
  <p>Run following command in a command-line shell to download the <tt>grind</tt> tool.
     These instructions apply to downloading it for the first time, and also to upgrading it to a new version:</p>
  <div style="position: relative; background-color: #f4f4f4; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-family: monospace;">
    <code id="install-command">curl -s https://codegrinder.russross.com/install-grind.sh | sudo sh</code>
    <button onclick="copyCommand()" style="position: absolute; top: 10px; right: 10px; background: none; border: none; cursor: pointer;" title="Copy to clipboard">
        &#128203; <!-- This is a clipboard emoji as a standard copy icon -->
    </button>
    <span id="copy-message" style="position: absolute; top: 10px; right: 40px; color: #28a745; display: none;">Copied!</span>
  </div>
  <script>
      function copyCommand() {
          var text = document.getElementById('install-command').innerText;
          navigator.clipboard.writeText(text).then(function() {
              var message = document.getElementById('copy-message');
              message.style.display = 'inline';
              setTimeout(function() {
                  message.style.display = 'none';
              }, 2000); // Hide after 2 seconds
          }, function(err) {
              console.error('Failed to copy: ', err);
          });
      }
  </script>
  <p>Type <tt>grind</tt> and hit enter to make sure the command is recognized. If not (if you see the message “grind: command not found”), get help.</p>
  <p>Note: if it is not working for you, please seek help! Do not fall behind on your assignments just because you ran into problems getting the tools set up.
     A TA or your instructor will be happy to sit down with you and help you get it running.</p>
</div>

<h3>Logging in</h3>
<div>
  <p>After you install <tt>grind</tt> you must log in. You will normally only need to do this once per semester. To do so, type this command:</p>
  <pre>grind login <script>document.write(document.location.hostname + ' ' + QueryString.session)</script></pre>
  <p>Note that the command given above is custom to you, and will expire 5 minutes from when you first loaded this page. If you need a fresh login token, reload this page.</p>
</div>


<script>
    (function () {
        var toggle = function (e) {
            var h3 = document.getElementsByTagName('h3');
            for (var i = 0; i < h3.length; i++) {
                if (h3[i] == e.target) {
                    if (h3[i].nextElementSibling.style.display == 'none') {
                        h3[i].nextElementSibling.style.display = 'block';
						h3[i].classList.add('open');
					} else {
                        h3[i].nextElementSibling.style.display = 'none';
						h3[i].classList.remove('open');
					}
                } else {
                    h3[i].nextElementSibling.style.display = 'none';
					h3[i].classList.remove('open');
                }
            }
        };

        var h3 = document.getElementsByTagName('h3');
        for (var i = 0; i < h3.length; i++) {
            h3[i].style.cursor = 'pointer';
            h3[i].nextElementSibling.style.display = 'none';
            h3[i].addEventListener('click', toggle);
        }
    })();
</script>
</body>
</html>
